function Transicao(o,t){var n=o,r=t;this.getSimbolos=function(){return n},this.getDestino=function(){return r}}function No(o,t,n,r){var i=o,e=t,a=n,s=r;this.getFinal=function(){return a},this.getRotulo=function(){return e},this.getTransicoes=function(){return s},this.toString=function(){return e?e.toString():"q"+i.toString()}}function AFD(JSON){var _json=JSON,_nos=null,_alfabeto=null,_init=function(){_nos=eval(_json).sort(function(o,t){return o.o<t.o?-1:o.o>t.o?1:0}).map(function(o){var t=(o.t?o.t:[]).map(function(o){return new Transicao(o.s,o.d)});return new No(o.o,o.r,o.f,t)}),_alfabeto=[];for(var i=0;i<_nos.length;++i)for(var transicoes=_nos[i].getTransicoes(),j=0;j<transicoes.length;++j)for(var simbolosDaTransicao=transicoes[j].getSimbolos(),k=0;k<simbolosDaTransicao.length;++k)_alfabeto.some(function(o){return o.toString()==simbolosDaTransicao[k].toString()})||_alfabeto.push(simbolosDaTransicao[k])};this.getNos=function(){return _nos},this.getAlfabeto=function(){return _alfabeto};var isPalavraValida=function(o){for(var t=0;t<o.length;++t)if(!_alfabeto.some(function(n){return n.toString()==o[t].toString()}))return{resultado:AFD_MotivosRejeicao.NAO_FAZ_PARTE_DO_ALFABETO,simbolo:o[t]};return!0};this.getNomeNo=function(o){return o.toString()},this.testarPalavra=function(o){if(!o||o.length<=0)return AFD_MotivosRejeicao.ACEITO;var t=isPalavraValida(o);if(t!==!0)return t;for(var n=_nos[0],r=[],i=0;i<o.length;++i){var e=null;r.push(o[i]);var a=n.getTransicoes(),s=a.length;if(s>0)for(var u=0;s>u;++u){var l=a[u],c=l.getSimbolos();c.some(function(t){return t.toString()==o[i].toString()})&&(e=_nos[parseInt(l.getDestino())])}if(null==e)return{resultado:AFD_MotivosRejeicao.TRANSICAO_INEXISTENTE,no:n,processados:r,simbolo:o[i]};n=e}return null!=e&&e.getFinal()?AFD_MotivosRejeicao.ACEITO:{resultado:AFD_MotivosRejeicao.ESTADO_NAO_FINAL,proximo:e}},_init()}var AFD_MotivosRejeicao={ACEITO:0,NAO_FAZ_PARTE_DO_ALFABETO:1,TRANSICAO_INEXISTENTE:2,ESTADO_NAO_FINAL:3};